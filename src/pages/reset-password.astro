---
import { ResetPasswordForm } from "../components/auth/ResetPasswordForm";
import Layout from "../layouts/Layout.astro";

// Pobierz token z query string
const token = Astro.url.searchParams.get("token") || "";

// Jeśli brak tokenu, przekieruj do forgot-password
if (!token) {
  return Astro.redirect("/forgot-password");
}
---

<Layout title="Resetowanie hasła">
  <div class="flex min-h-screen items-center justify-center px-4 py-12">
    <ResetPasswordForm client:load token={token} />
  </div>
</Layout>
